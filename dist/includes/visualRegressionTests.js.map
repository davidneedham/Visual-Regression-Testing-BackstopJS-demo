{"version":3,"sources":["../../includes/visualRegressionTests.js"],"names":["checkForUpdates","rootDir","path","dirname","require","main","filename","endsWith","substring","indexOf","config","then","console","log","catch"],"mappings":";;;;;kBASwBA,e;;AARxB;;;;AAGA;;;;AACA;;;;AACA;;;;;;AANA;AASe,SAASA,eAAT,GAA2B;;AAEtC,QAAIC,UAAUC,eAAKC,OAAL,CAAaC,QAAQC,IAAR,CAAaC,QAA1B,CAAd;AACA,QAAIL,QAAQM,QAAR,CAAiB,MAAjB,CAAJ,EAA8B;AAC1BN,kBAAUA,QAAQO,SAAR,CAAmB,CAAnB,EAAsBP,QAAQQ,OAAR,CAAiB,OAAjB,CAAtB,CAAV;AACH;;AAED,8BAAS,WAAT,EAAsB,EAACC,QAAO,wBAAR,EAAtB,EAAyDC,IAAzD,CAA8D,YAAM;AAChEC,gBAAQC,GAAR,CAAY,iDAAZ;;AAEA,kCAAS,MAAT,EAAiB,EAACH,QAAO,wBAAR,EAAjB,EAAoDC,IAApD,CAAyD,YAAM;AAC3DC,oBAAQC,GAAR,CAAY,2BAAZ;AACAD,oBAAQC,GAAR,+BAAwCZ,OAAxC;AACH,SAHD,EAGGa,KAHH,CAGS,YAAM;AACXF,oBAAQC,GAAR,uBAAgCZ,OAAhC;AACA;AACA,sCAAW,2BAAX;AACH,SAPD;AAQH,KAXD,EAWGa,KAXH,CAWS,YAAM;AACX,kCAAW,+BAAX;AACH,KAbD;AAeH;;AA5BD","file":"visualRegressionTests.js","sourcesContent":["// Local dependencies\nimport throwError from './throwError';\n\n// Contrib dependencies\nimport backstop from 'backstopjs';\nimport opn from 'opn';\nimport path from 'path';\n\n\nexport default function checkForUpdates() {\n\n    let rootDir = path.dirname(require.main.filename)\n    if( rootDir.endsWith('dist') ){\n        rootDir = rootDir.substring( 0, rootDir.indexOf( '/dist' ) )\n    }\n\n    backstop('reference', {config:'includes/backstop.json'}).then(() => {\n        console.log('Backstop JS reference complete! Starting tests.')\n\n        backstop('test', {config:'includes/backstop.json'}).then(() => {\n            console.log('Backstop JS tests passed!')\n            console.log(`View the full report at \"${rootDir}/backstop_data/html_report/index.html\"`)\n        }).catch(() => {\n            console.log(`Report saved to \"${rootDir}/backstop_data/html_report/index.html\"`)\n            // opn(`${rootDir}/backstop_data/html_report/index.html`)\n            throwError('Backstop JS tests failed!')\n        });\n    }).catch(() => {\n        throwError('Backstop JS reference failed!')\n    });\n\n}\n"]}